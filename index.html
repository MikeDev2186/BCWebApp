<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Barangay Commonwealth Portal</title>

  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="css/register-override.css" />
  <script type="module" src="firebaseauth.js"></script>
</head>
<body>
  <button class="toggle-theme" onclick="toggleTheme()" aria-label="Toggle dark mode">
    <i class="fas fa-moon" aria-hidden="true"></i>
  </button>

  <header>
    <span aria-label="Site Title">Barangay Commonwealth Portal</span>
  </header>

  <main class="container" role="main">
    <!-- Register Form -->
    <div class="form-wrapper" id="signup">
      <h2 class="form-title" tabindex="0">Register</h2>
      <form id="registerForm" autocomplete="on">
        <div id="signUpMessage" class="messageDiv" style="display: block;"></div>

        <!-- Personal Information -->
        <fieldset>
          <legend>Personal Information</legend>

          <label>First Name
            <input type="text" id="fName" placeholder="First Name" required />
          </label>

          <label>
            <input type="checkbox" id="dontHaveMiddleName" />
            I don't have a middle name
          </label>

          <label>Middle Name
            <input type="text" id="middleName" placeholder="Middle Name" />
          </label>

          <label>Last Name
            <input type="text" id="lName" placeholder="Last Name" required />
          </label>

          <label>Extension
            <select id="extension">
              <option value="">None</option>
              <option value="Sr.">Sr.</option>
              <option value="Jr.">Jr.</option>
              <option value="III">III</option>
              <option value="IV">IV</option>
              <option value="Other">Other</option>
            </select>
            <input type="text" id="extensionOther" placeholder="If Other, specify" style="display:none; margin-top:6px;" />
          </label>

          <label>Maiden Name (Last name before marriage)
            <input type="text" id="maidenName" />
          </label>

          <label>Date of Birth
            <input type="date" id="dob" />
          </label>

          <label>Place of Birth - Region
            <input type="text" id="placeOfBirthRegion" placeholder="Region" />
          </label>

          <label>Place of Birth - City
            <input type="text" id="placeOfBirthCity" placeholder="City" />
          </label>

          <label>Nationality
            <input type="text" id="nationality" />
          </label>

          <label>Religion
            <input type="text" id="religion" />
          </label>

          <label>Sex
            <select id="sex">
              <option value="">Select</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
              <option value="Do Not Specify">Do Not Specify</option>
            </select>
          </label>

          <label>Civil Status
            <select id="civilStatus">
              <option value="">Select</option>
              <option value="Single">Single</option>
              <option value="Married">Married</option>
              <option value="Widowed">Widowed</option>
              <option value="Separated">Separated</option>
              <option value="Divorced">Divorced</option>
            </select>
          </label>

          <label>Personal Mobile Number
            <input type="tel" id="personalMobile" placeholder="+63..." />
          </label>

          <label>Email Address
            <input type="email" id="rEmail" placeholder="Email" required />
          </label>

          <label>Alternate Email Address
            <input type="email" id="alternateEmail" placeholder="Alternate Email" />
          </label>
        </fieldset>

        <!-- Work Information -->
        <fieldset>
          <legend>Work Information (If 18 years old and above)</legend>

          <label>Are you employed?
            <select id="employed">
              <option value="No">No</option>
              <option value="Yes">Yes</option>
            </select>
          </label>

          <div id="employmentDetailsSection" style="display:none;">
            <label>Employment Type
              <select id="employmentType">
                <option value="">Select</option>
                <option value="Part-time">Part-time</option>
                <option value="Full-time">Full-time</option>
                <option value="Contractual">Contractual</option>
                <option value="Temporary">Temporary</option>
                <option value="On-call">On-call</option>
                <option value="Independent Contractor">Independent Contractor</option>
              </select>
            </label>

            <label>Position / Title
              <input type="text" id="positionTitle" />
            </label>

            <label>Company Name
              <input type="text" id="companyName" />
            </label>
          </div>
        </fieldset>

        <!-- Present Address -->
        <fieldset>
          <legend>Present Address</legend>

          <label>Province
            <input type="text" id="presentProvince" />
          </label>

          <label>City
            <input type="text" id="presentCity" />
          </label>

          <label>Barangay
            <input type="text" id="presentBarangay" />
          </label>

          <label>Street Name, Village
            <input type="text" id="presentStreetName" />
          </label>

          <label>House Number
            <input type="text" id="presentHouseNumber" />
          </label>

          <label>Is this your primary address?
            <input type="checkbox" id="presentIsPrimary" checked />
          </label>

          <label>Same as permanent address?
            <input type="checkbox" id="sameAsPermanent" />
          </label>
        </fieldset>

        <!-- Permanent Address -->
        <fieldset>
          <legend>Permanent Address</legend>

          <label>Province
            <input type="text" id="permanentProvince" />
          </label>

          <label>City
            <input type="text" id="permanentCity" />
          </label>

          <label>Barangay
            <input type="text" id="permanentBarangay" />
          </label>

          <label>Street Name, Village
            <input type="text" id="permanentStreetName" />
          </label>

          <label>House Number
            <input type="text" id="permanentHouseNumber" />
          </label>

          <label>Is this your primary address?
            <select id="permanentIsPrimary">
              <option value="No">No</option>
              <option value="Yes">Yes</option>
            </select>
          </label>
        </fieldset>

        <!-- Sectoral Info -->
        <fieldset>
          <legend>Sectoral Information</legend>
          <label><input type="checkbox" id="pwd" /> PWD</label>
          <label><input type="checkbox" id="soloParent" /> Solo Parent</label>
          <label><input type="checkbox" id="senior" /> Senior</label>
          <label><input type="checkbox" id="student" /> Student</label>
        </fieldset>

        <!-- Health Record -->
        <fieldset>
          <legend>Health Record</legend>
          <label>Blood Type
            <input type="text" id="bloodType" />
          </label>

          <label>Height (cm)
            <input type="number" id="height" min="0" />
          </label>

          <label>Weight (kg)
            <input type="number" id="weight" min="0" />
          </label>

          <label>Hair Color
            <input type="text" id="hairColor" />
          </label>

          <label>Eye Color
            <input type="text" id="eyeColor" />
          </label>

          <label>Wearing glasses?
            <input type="checkbox" id="wearingGlasses" />
          </label>

          <label>Wearing dentures?
            <input type="checkbox" id="wearingDentures" />
          </label>
        </fieldset>

        <!-- Submitted Document -->
        <fieldset>
          <legend>Submitted Documents</legend>
          <label>Valid ID or Birth Certificate
            <input type="file" id="validDocument" accept=".jpg,.jpeg,.png,.pdf" required />
          </label>
        </fieldset>

        <fieldset>
          <label>
            <input type="checkbox" id="privacyCheck" required />
            I agree to the <a href="#" onclick="togglePrivacyAgreement(event)">Privacy Agreement</a>
          </label>
        </fieldset>

        <button class="btn" id="submitSignUp" type="submit">Sign Up</button>
      </form>

      <div class="alt-links">
        <p>Already have an account?</p>
        <button onclick="switchForm('signIn')">Sign In</button>
      </div>
    </div>

    <!-- Login Form -->
    <div class="form-wrapper active" id="signIn">
      <h2 class="form-title" tabindex="0">Sign In</h2>
      <form id="loginForm">
        <div id="signInMessage" class="messageDiv" style="display: block;"></div>
        <div class="input-group">
          <i class="fas fa-envelope"></i>
          <input type="email" id="email" placeholder="Email" required />
        </div>
        <div class="input-group">
          <i class="fas fa-lock"></i>
          <input type="password" id="password" placeholder="Password" required />
          <i class="fas fa-eye toggle-password"></i>
        </div>
        <p class="recover"><a href="#">Recover Password</a></p>
        <button class="btn" id="submitSignIn">Sign In</button>
      </form>

      <div class="alt-links">
        <p>Don't have an account?</p>
        <button onclick="switchForm('signup')">Sign Up</button>
      </div>
    </div>
  </main>

  <script>
    function switchForm(formId) {
      document.getElementById('signIn').classList.remove('active');
      document.getElementById('signup').classList.remove('active');
      document.getElementById(formId).classList.add('active');
      document.getElementById(formId).querySelector('input, select').focus();
    }

    function toggleTheme() {
      document.body.classList.toggle('dark');
      const icon = document.querySelector('.toggle-theme i');
      icon.classList.toggle('fa-moon');
      icon.classList.toggle('fa-sun');
    }

    // Password toggle logic
    document.querySelectorAll('.toggle-password').forEach(icon => {
      icon.addEventListener('click', () => {
        const input = icon.previousElementSibling;
        if (input.type === 'password') {
          input.type = 'text';
          icon.classList.remove('fa-eye');
          icon.classList.add('fa-eye-slash');
        } else {
          input.type = 'password';
          icon.classList.remove('fa-eye-slash');
          icon.classList.add('fa-eye');
        }
      });
    });

    // show/hide extension Other input
    const extensionEl = document.getElementById('extension');
    const extensionOther = document.getElementById('extensionOther');
    if (extensionEl) {
      extensionEl.addEventListener('change', () => {
        extensionOther.style.display = extensionEl.value === 'Other' ? 'block' : 'none';
      });
    }

    // employment details toggle
    const employedEl = document.getElementById('employed');
    const employmentSection = document.getElementById('employmentDetailsSection');
    if (employedEl) {
      employedEl.addEventListener('change', () => {
        employmentSection.style.display = employedEl.value === 'Yes' ? 'block' : 'none';
      });
    }

    // sameAsPermanent copy
    const sameAsPermanent = document.getElementById('sameAsPermanent');
    sameAsPermanent?.addEventListener('change', () => {
      if (sameAsPermanent.checked) {
        document.getElementById('permanentProvince').value = document.getElementById('presentProvince').value;
        document.getElementById('permanentCity').value = document.getElementById('presentCity').value;
        document.getElementById('permanentBarangay').value = document.getElementById('presentBarangay').value;
        document.getElementById('permanentStreetName').value = document.getElementById('presentStreetName').value;
        document.getElementById('permanentHouseNumber').value = document.getElementById('presentHouseNumber').value;
      }
    });

    // dontHaveMiddleName logic
    const dontHaveMiddleName = document.getElementById('dontHaveMiddleName');
    dontHaveMiddleName?.addEventListener('change', () => {
      const mn = document.getElementById('middleName');
      if (dontHaveMiddleName.checked) {
        mn.value = '';
        mn.disabled = true;
      } else {
        mn.disabled = false;
      }
    });

  </script>

</body>
</html>

